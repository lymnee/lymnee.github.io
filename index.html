<!doctype html>
<html lang="fr" data-ym-font-family="sans-serif" data-ym-font-size="large || medium@media screen and (min-width: 768px)" data-ym-line-height="var(--scale)" data-ym-font-weight="var(--font-weight-regular)" data-ym-margin="auto" data-ym-width="95%" data-ym-max-width="1024px@media screen and (min-width: 1024px)">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAw0lEQVR42u3cUQ3CQBBF0VeCDIzUCCKLEIzgA1zMtrxzDEwmuV+TzSYAAAAAAAAAAAAAAAAAAAAAAAAAAMB629Sgb/JIsq9e+CLeW/KZGHQfXGpPcgzOu7JnktfEoNvqTVlLAOUEUE4A5QRQTgDlBFBOAOUEUM4p+JzGTsEAAAAAAAAAAADAf/Ao9Jz8D1DO/wDMEEA5AZQTQDkBlBNAOQGUE0A5AZRzCj4n/wMAAAAAAAAAAAAAAAAAAAAAAAAAAECVH8wQD/l56TphAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTA4LTE0VDIyOjE5OjUzKzAwOjAwkwttpgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0wOC0xNFQyMjoxOTo1MyswMDowMOJW1RoAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC">
<title>Lymnee</title>
<style>
:root {
    /*--scale: calc(1393 / 985);*/
    --scale: calc(10812186007 / 7645370045);
    --primary-color: #f00;
    --opposite-color: #0f0;
    --text-color-regular: #222;
    --font-weight-regular: 400;
    --font-weight-bold: 600;
    --x: calc(var(--scale) * var(--scale));
    --xx: calc(var(--scale) * var(--scale) * var(--scale));
    --xxx: calc(var(--scale) * var(--scale) * var(--scale) * var(--scale));
    --xs: var(--scale);
    --ssssssss: calc(var(--scale) / var(--scale) / var(--scale) / var(--scale) / var(--scale) / var(--scale) / var(--scale) / var(--scale));
    --red-filter: invert(13%) sepia(92%) saturate(7286%) hue-rotate(0deg) brightness(94%) contrast(117%);
    --svg-equal: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='%2300000' d='M19,10H5V8H19V10M19,16H5V14H19V16Z' /></svg>");
    
}
</style>
<style id="current">
code::after,
code:before,
kbd::after,
kbd::before,
mark::after,
mark::before {
    color: var(--primary-color)  
}
code::before,
kbd::before,
mark::before {
    content: '\7B\202F'
}
code::after,
kbd::after,
mark::after {
    content: '\202F\7D'
}

kbd::before,
mark::before {
    content: '\7B'
}
kbd::after,
mark::after {
    content: '\7D'
}
em::after,
q::after {
    content: '\202F»'   
}
em::before,
q::before {
    content: '«\202F'
}
pre {
    white-space: pre-wrap;
    white-space: break-spaces
}
</style>
</head>
<body data-ym-display="block" data-ym-hyphens="auto" data-ym-padding-bottom="1rem">
<div data-ym-align-items="center@media screen and (min-width: 768px)" data-ym-display="flex" data-ym-flex-direction="column@media screen and (max-width: 768px)">
    <div data-ym-background="var(--svg-equal) no-repeat" data-ym-filter="var(--red-filter)" data-ym-height="5rem" data-ym-width="5rem"></div>
    <h1 data-ym-color="var(--primary-color)" data-ym-font-size="calc(var(--xxx) * 1rem)" data-ym-font-variant="small-caps" data-ym-font-weight="var(--font-weight-bold)">Lymnee</h1>
</div>
<nav id="toc" data-ym-display="block || flex@media screen and (min-width: 1024px)" data-ym-align-items="end@media screen and (min-width: 1024px)" data-ym-flex-direction="column@media screen and (min-width: 1024px)">
</nav>
<div data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-font-size="calc(var(--xx) * 1rem)" data-ym-margin-top="1rem">&#x3c;details&#x3e;</div>
<h2 data-ym-color="var(--opposite-color)" data-ym-display="block" data-ym-font-size="calc(var(--xx) * 1rem)" data-ym-margin-top="1rem" title="En résumé…">&#x3c;summary&#x3e;</h2>
<p data-ym-display="block" data-ym-margin-top="1rem">Les <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a> constituent une alternative aux classes <abbr title="Cascading Styles Sheets">Css</abbr> pour mettre en forme une page Web.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Les <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a> sont flexibles&#x202f;: leur valeur peut contenir n’importe quel caractère&#x202f;! Aussi est-il loisible de suivre la grammaire <abbr title="Cascading Styles Sheets">Css</abbr> pour déclarer un couple <em>sélecteur - valeur</em>. Par exemple…</p>
<pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
&#x3c;html data-ym-font-size="medium"&#x3e;</pre>
<p data-ym-display="block" data-ym-margin-top="1rem">… où <em>data-ym-font-size</em> représente un espace de nom suivi du sélecteur.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Les relations <abbr title="Hypertext Markup Language">Html</abbr> - <abbr title="Cascading Styles Sheets">Css</abbr> deviennent plus faciles à concevoir et à maintenir.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Certes, l’outil de validation <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="http://csslint.net/" title="aller sur Css Lint (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Css Lint</a> émet des avertissements libellés avec le titre <q lang="en">Disallow unqualified attribute selectors</q> et la description <q lang="en">Unqualified attribute selectors are known to be slow</q> quand lui sont soumis des <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a>.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Cependant, en dépit d’une légende tenace, les <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a> ne sont pas plus lents à interpréter que les classes <abbr title="Cascading Styles Sheets">Css</abbr>… L’article <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://gomakethings.com/how-performant-are-data-attributes-as-selectors/" title="lire l’article How performant are data attributes as selectors (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en"><em>How performant are data attributes as selectors</em></a> propose un test, disponible dans le fichier <a data-ym-color="var(--opposite-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://github.com/lymnee/lymnee/blob/master/lymnee.benchmark.html" title="consulter le fichier lymnee.benchmark.html (S’ouvre dans une nouvelle fenêtre)" target="_blank"><em>lymnee.benchmark.html</em></a> afin de comparer les performances des deux sélecteurs&#x202f;: 10&#x202f;000 itérations montrent que les <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a> sont légèrement plus rapides&#x202f;!</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Cette proposition de syntaxe, baptisée <span data-ym-color="var(--primary-color)" data-ym-font-variant="small-caps" data-ym-font-weight="var(--font-weight-bold)"><em>Lymnee</em></span>, est simple, mais pas simpliste : <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-elements" title="lire la documentation à propos des pseudo-éléments (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">pseudo-éléments</a>, <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries" title="lire l’article Using media queries (S’ouvre dans une nouvelle fenêtre)" target="_blank">Media queries</a>, sélecteurs contextuels, règles <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Web/CSS/@supports" title="lire l’article @supports (S’ouvre dans une nouvelle fenêtre)" target="_blank">@supports</a> sont pris en charge grâce à des opérateurs booléens.</p>
<p data-ym-display="block" data-ym-margin-top="1rem"><span data-ym-color="var(--primary-color)" data-ym-font-variant="small-caps" data-ym-font-weight="var(--font-weight-bold)">Lymnee</span> s’accompagne de trois outils pour générer le code <abbr title="Cascading Styles Sheets">Css</abbr>&#x202f;: un paquet <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://nodejs.org/en/" title="aller sur le site Node.js (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Node.js</a>, un fichier <abbr title="Hypertext Preprocessor" data-my-font-variant="small-caps">Php</abbr>, un fichier en Javascript.</p>
<div data-ym-color="var(--opposite-color)" data-ym-display="block" data-ym-font-size="calc(var(--xx) * 1rem)" data-ym-margin-top="1rem">&#x3c;/summary&#x3e;</div>
<h2 data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-font-size="calc(var(--xx) * 1rem)" data-ym-margin-top="1rem">Prolégomènes</h2>
<p data-ym-display="block" data-ym-margin-top="1rem">Écrivons trois lignes de <abbr title="Hypertext Markup Language">Html</abbr> et trois classes <abbr title="Cascading Styles Sheets">Css</abbr> correspondantes…</p>
<pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
&#x3c;h1 class="foo"&#x3e;Title&#x3c;/h1&#x3e;
&#x3c;h2 class="else"&#x3e;Title&#x3c;/h2&#x3e;
&#x3c;p class="bar"&#x3e;Paragraph&#x3c;/p&#x3e;

.foo {
    color: red;
    font-size: large
}
.else {
    color: blue;
    font-size: large
}
.bar {
    color: blue;
    font-size: medium
}
</pre>
<p data-ym-display="block" data-ym-margin-top="1rem">Trois difficultés émergent…</p>
<ol data-ym-display="block" data-ym-list-style-position="inside" data-ym-list-style-type="decimal" data-ym-margin-top="1rem">
    <li data-ym-color="var(--primary-color)::marker" data-ym-display="list-item">Comment nommer les classes&#x202f;? En utilisant la sémantique grâce à un incommensurable effort d’imagination (songer aux esprits curieux qui, en ligne, ausculteront notre savoir-faire&#x202f;!)&#x202f;? En recourant à un nom générique et réutilisable&#x202f;?</li>
    <li data-ym-color="var(--primary-color)::marker" data-ym-display="list-item">Comment ordonner les classes&#x202f;? En les triant par ordre alphabétique au prix d’un travail fastidieux&#x202f;? À défaut de tri, comment retrouver l’information dans plusieurs centaines, voire milliers de classes&#x202f;? [Selon <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://cssstats.com/stats/?url=facebook.com" title="consulter l’outil CSS Stats (S’ouvre dans une nouvelle fenêtre)" target="_blank">CSS Stats</a>, <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://www.facebook.com/" title="aller sur Facebook (S’ouvre dans une nouvelle fenêtre)" target="_blank">Facebook</a> utilise 15&#x202f;982 règles, le 26 août 2020.]</li>
    <li data-ym-color="var(--primary-color)::marker" data-ym-display="list-item">Comment appliquer le principe <abbr title="Don’t Repeat Yourself">Dry</abbr>, c’est-à-dire factoriser le code afin d’obvier à la redondance&#x202f;?</li>
</ol>
<p data-ym-display="block" data-ym-margin-top="1rem">Avec un tri et un code factorisé (manuellement&#x202f;!), nos trois classes s’établissent ainsi…</p>
<pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
.bar { 
    font-size: medium
}
.bar,
.else {
    color: blue
}
.else,
.foo {
    font-size: large
}
.foo {
    color: red
}</pre>
<p data-ym-display="block" data-ym-margin-top="1rem">ou…</p>
<pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
.bar,
.else {
    color: blue
}
.foo {
    color: red
}
.bar { 
    font-size: medium
}
.else,
.foo {
    font-size: large
}</pre>
<p data-ym-display="block" data-ym-margin-top="1rem">Avec <span data-ym-color="var(--primary-color)" data-ym-font-variant="small-caps" data-ym-font-weight="var(--font-weight-bold)">Lymnee</span>, nous écrivons…</p>
<pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
&#x3c;h1 data-ym-color="red" data-ym-font-size="large"&#x3e;Title&#x3c;/h1&#x3e;
&#x3c;h2 data-ym-color="blue" data-ym-font-size="large"&#x3e;Title&#x3c;/h2&#x3e;
&#x3c;p data-ym-color="blue" data-ym-font-size="medium"&#x3e;Paragraph&#x3c;/p&#x3e;</pre>
<p data-ym-display="block" data-ym-margin-top="1rem">Nous obtenons…</p>
<pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
[data-ym-color="blue"] {
    color: blue
}
[data-ym-color="red"] {
    color: red
}
[data-ym-font-size="large"] {
    font-size: large
} 
[data-ym-font-size="medium"] {
    font-size: medium
}</pre>
<p data-ym-display="block" data-ym-margin-top="1rem">Un codage classique nécessite six sélecteurs et quatre règles. <span data-ym-color="var(--primary-color)" data-ym-font-variant="small-caps" data-ym-font-weight="var(--font-weight-bold)">Lymnee</span> utilise quatre sélecteurs et quatre règles.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Le code <abbr title="Hypertext Markup Language">Html</abbr>, valide&#x202f;! est verbeux (lu communément par un logiciel…), mais la solution <span data-ym-color="var(--primary-color)" data-ym-font-variant="small-caps" data-ym-font-weight="var(--font-weight-bold)">Lymnee</span> présente plusieurs avantages…</p>
<ul data-ym-display="block" data-ym-list-style-position="inside" data-ym-list-style-type="disk" data-ym-margin-top="1rem">
    <li data-ym-color="var(--primary-color)::marker" data-ym-display="list-item">La lecture du code <abbr title="Hypertext Markup Language">Html</abbr> évoque le rendu visuel.</li>
    <li data-ym-color="var(--primary-color)::marker" data-ym-display="list-item">La quête du nom de classe idéal n’existe plus.</li>
    <li data-ym-color="var(--primary-color)::marker" data-ym-display="list-item">Le code <abbr title="Cascading Styles Sheets">Css</abbr> est factorisé, il n’y a plus de redondance. Les règles sont triées. (Deux différences, et non des moindres, avec les styles en ligne&#x202f;!)</li>
    <li data-ym-color="var(--primary-color)::marker" data-ym-display="list-item">La syntaxe est élémentaire. Après ajout d’un préfixe comme <em>data-ym-</em>, le couple sélecteur - value est utilisé&#x202f;: il suffit de suivre la grammaire de <abbr title="Cascading Styles Sheets">Css</abbr>.</li>
    <li data-ym-color="var(--primary-color)::marker" data-ym-display="list-item">Le code <abbr title="Cascading Styles Sheets">Css</abbr> superflu devient évident et peut être éliminé sans effort.</li>
    <li data-ym-color="var(--primary-color)::marker" data-ym-display="list-item">Seuls sont réinitialisés les styles des balises utilisées, et cette réinitialisation est optionnelle.</li>
    <li data-ym-color="var(--primary-color)::marker" data-ym-display="list-item">La facilité de lecture de <span data-ym-color="var(--text-color-regular)" data-ym-font-weight="var(--text-font-weight-regular)">Lymnee</span> par un humain facilite son traitement logique. C’est pourquoi, sont proposées deux librairies, sous forme de paquet <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://nodejs.org/en/" title="aller sur le site Node.js (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Node.js</a> avec dépendances, d'une part, et, d'autre part, d’un fichier <abbr title="Hypertext Preprocessor">Php</abbr>. Ces librairies, paramétrables, analysent tous les fichiers d’un répertoire contenant des fragments au format <abbr title="Hypertext Markup Language">Html</abbr> et extraient les <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a> afin de produire le code <abbr title="Cascading Styles Sheets">Css</abbr>, compressé ou pas au choix de l’auteur. Un fichier JavaScript est aussi disponible pour mettre à l’épreuve la méthode en quelques instants. Le présent document utilise JavaScript pour générer le code <abbr title="Cascading Styles Sheets">Css</abbr> à la volée&#x202f;; le résultat non compressé est visible dans la console du navigateur&#x202f;: quelques sophistications superflues montrent la polyvalence de <span data-ym-color="var(--text-color-regular)" data-ym-font-weight="var(--text-font-weight-regular)">Lymnee</span>.</li>
    <li data-ym-color="var(--primary-color)::marker" data-ym-display="list-item">Écrire le code <abbr title="Cascading Styles Sheets">Css</abbr> à la main demeure envisageable&#x202f;: l’exercice ne réclame pas un effort inouï&#x202f;!</li>
</ul>
<h3 data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-font-size="calc(var(--x) * 1rem)" data-ym-margin-top="1rem">État des lieux</h3>
<p data-ym-display="block" data-ym-margin-top="1rem">Depuis des temps immémoriaux (!), les auteurs.autrices sont en quête de la structure idéale pour organiser le code <abbr title="Cascading Styles Sheets">Css</abbr>.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Les méthodes comme <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="http://oocss.org/" title="aller sur le site Object-Oriented CSS (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Object-Oriented CSS</a>, <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="http://getbem.com/" title="aller sur le site BEM — Block Element Modifier (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">BEM — Block Element Modifier</a>, <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://bradfrost.com/blog/post/atomic-web-design/" title="lire l’article Atomic Design  (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Atomic Design</a> ajoutent une couche d’abstraction. Comment reconnaître un premier et un deuxième objet, un <em>bloc</em> et un <em>élement</em>, un <em>organisme</em> et un <em>modèle</em>&#x202f;?… Collective et individuelle sont les variabilités… Le travail collaboratif, dans l’espace ou dans le temps, devient chaotique. Un.e auteur.autrice (le substantif <em>développeur.se</em> constitue un abus de langage, car <abbr title="Cascading Styles Sheets">Css</abbr> comme <abbr title="Hypertext Markup Language">Html</abbr> n’utilisent pas la programmation) interprète différemment les règles au fil du temps, voire oublie le raisonnement qui l’a conduit à préférer une <em>molécule</em> à un <em>atome</em>.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Les préprocesseurs, comme <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://sass-lang.com/" title="aller sur le site Sass: Syntactically Awesome Style Sheets (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Sass</a> ou <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="http://lesscss.org/" title="aller sur le site BEM — Block Element Modifier (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Less</a>, visent notamment à rationaliser le code <abbr title="Cascading Styles Sheets">Css</abbr>. Le contenu est souvent divisé en fragments gigognes qui suivent une logique aléatoire. La recherche d’une règle impose de parcourir plusieurs fichiers. Comme la plupart des navigateurs interprète maintenant les <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties" title="lire l’article Using CSS custom properties (variables) (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">variables Css</a> [<a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://caniuse.com/#search=variables" title="aller sur le site Can I use…  Support tables for HTML5, CSS3, etc (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Can I use &#x23; CSS Variables (Custom Properties)</a>] et utilise la fonction (hélas limitée aux opérations arithmétiques traditionnelles&#x202f;!) <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Web/CSS/calc" title="lire l’article calc (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Calc</a> [<a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://caniuse.com/#search=calc" title="aller sur le site Can I use…  Support tables for HTML5, CSS3, etc (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Can I use calc() as CSS unit value</a>], l’intérêt des préprocesseurs est moindre.</p>
<h3 data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-font-size="calc(var(--x) * 1rem)" data-ym-margin-top="1rem">D’<span lang="en">Attributes Modules for CSS</span>…</h3>
<p data-ym-display="block" data-ym-margin-top="1rem">En 2014, Glen Maddern et Ben Schwarz commettent l’article <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://amcss.github.io/" title="lire l’article Attributes Modules for CSS (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en"><em>Attributes Modules for CSS</em></a>. Ils y proposent une syntaxe comme…</p>
<pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
&#x3c;a am-Button="primary large"&#x3e;Large primary button&#x3c;/a&#x3e;
&#x3c;a am-Button&#x3e;
&#x3c;a am-Button="info small"&#x3e;
&#x3c;a am-Button="danger extra-small"&#x3e;</pre>
<p data-ym-display="block" data-ym-margin-top="1rem">(L’exemple est repris de la documentation.)</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Il s’agit d’un usage des <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a>, qui est aussi préconisé par <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="http://oocss.org/" title="aller sur le site Object-Oriented CSS (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Object-Oriented CSS</a>.</p>
<h3 data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-font-size="calc(var(--x) * 1rem)" data-ym-margin-top="1rem">… Via <span lang="en">Atomic CSS</span></h3>
<p data-ym-display="block" data-ym-margin-top="1rem"><a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://acss.io/" title="aller sur le site Atomic CSS (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Atomic CSS</a>, conçu par Thierry Koblentz, style directement les composants. Cette méthodologie évite de concevoir des classes difficiles à maintenir. Ainsi, le code <abbr title="Hypertext Markup Language">Html</abbr>…</p>
<pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
&#x3c;div class="D(b) Va(t) Fz(20px)"&#x3e;Hello World!&#x3c;/div&#x3e;</pre>
<p data-ym-display="block" data-ym-margin-top="1rem">… est traduit comme suit en <abbr title="Cascading Styles Sheets">Css</abbr>…</p>
<pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
.D(b) {
    display: block
}
.Va(t) {
    vertical-align: top
}
.Fz(20px) {
    font-size: 20px
}</pre>
<p data-ym-display="block" data-ym-margin-top="1rem">(L’exemple est repris de la documentation.)</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Cette méthode est captivante&#x202f;! <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://acss.io/" title="aller sur le site Atomic CSS (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Atomic CSS</a> n’utilise pas les styles en ligne. Le code <abbr title="Cascading Styles Sheets">Css</abbr> est mis en cache et factorisé. La syntaxe alourdit le poids d’un fichier <abbr title="Hypertext Markup Language">Html</abbr>, mais la compression est performante.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Cependant, <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://acss.io/" title="aller sur le site Atomic CSS (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Atomic CSS</a> présente deux écueils…</p>
<ol data-ym-display="block" data-ym-list-style-position="inside" data-ym-list-style-type="lower-greek" data-ym-margin-top="1rem">
    <li data-ym-color="var(--primary-color)::marker" data-ym-display="list-item">Les classes sont difficiles à mémoriser et à relire. Elles s’appuient sur la syntaxe <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://emmet.io" title="aller sur le site Emmet (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Emmet</a>, dont les abréviations ne sont pas intuitives. <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://emmet.io/" title="aller sur le site Emmet (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Emmet</a> n’est pas maintenu à jour&#x202f;: ainsi, comment recourir à <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://drafts.csswg.org/css-grid/" title="lire une présentation de Css Grid Layout (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Css Grid Layout</a>&#x202f;?</li>
    <li data-ym-color="var(--primary-color)::marker" data-ym-display="list-item">L’échappement des caractères spéciaux est pénible&#x202f;!
        <p data-ym-display="block" data-ym-margin-top="1rem">Par exemple, en utilisant les <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries" title="lire l’article Using media queries (S’ouvre dans une nouvelle fenêtre)" target="_blank">Media queries</a>, le code <abbr title="Hypertext Markup Language">Html</abbr>…</p>
        <pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
&#x3c;div class="bdrs@large"&#x3e;&#x3c;/div&#x3e;</pre>   
        <p data-ym-display="block" data-ym-margin-top="1rem">… est traduit comme suit en <abbr title="Cascading Styles Sheets">Css</abbr>…</p>
        <pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
@media only screen and (min-width: 768px) {
    .bdrs\@large{
        border-radius:.5rem
    }
}</pre>
        <p data-ym-display="block" data-ym-margin-top="1rem">JavaScript échappe les caractères spéciaux avec la méthode <code data-ym-hyphens="none">CSS.escape</code>.</p>     
    </li>
</ol>
<p data-ym-display="block" data-ym-margin-top="1rem">Autrement dit, les concepts d’<a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://acss.io/" title="aller sur le site Atomic CSS (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Atomic CSS</a> méritent quelque intérêt, mais sont difficiles à appréhender au quotidien.</p>
<h3 data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-font-size="calc(var(--x) * 1rem)" data-ym-margin-top="1rem">… À Lymnee</h3>
<p data-ym-display="block" data-ym-margin-top="1rem">Or, la philosophie d’<a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://acss.io/" title="aller sur le site Atomic CSS (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Atomic CSS</a> est applicable aux <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a>&#x202f;: les codes <abbr title="Hypertext Markup Language">Html</abbr> et <abbr title="Cascading Styles Sheets">Css</abbr> deviennent simples à écrire et à lire&#x202f;! Par un humain. Par un logiciel.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Les <span data-ym-font-weight="var(--font-weight-bold)">valeurs</span> des <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a> peuvent contenir n’importe quel caractère&#x202f;: <q cite="https://www.w3.org/TR/2014/REC-html5-20141028/dom.html#attributes" lang="en">(…) attributes on HTML elements may have any string value, including the empty string. (…)</q>.</p>
<h4 data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-font-size="calc(var(--xs) * 1rem)" data-ym-margin-top="1rem">Attributs de données</h4>
<p data-ym-display="block" data-ym-margin-top="1rem">Les <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a> permettent d’ajouter des informations à un élément <abbr title="Hypertext Markup Language">Html</abbr>.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Par exemple, pour stocker le nombre d’habitants d’une ville sans recourir à une base de données, peut être écrit… <code data-ym-hyphens="none">&#x3c;p id="paris" data-population="2148271"&#x3e;Paris&#x3c;/p&#x3e;</code>. L’information est facile à extraire en JavaScript&#x202f;: <code data-ym-hyphens="none">console.log(document.querySelector('#paris').dataset.population);</code>, voire <code data-ym-hyphens="none">console.log(document.querySelector('#paris').getAttribute('data-population'));</code>.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Les <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a> doivent être préfixés <code data-ym-hyphens="none">data-</code> pour être valides. Une balise <abbr title="Hypertext Markup Language">Html</abbr> peut en recevoir plusieurs.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Les <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a> peuvent aussi servir à styler un élément, comme le rappelle Chris Coyier dans son article <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://css-tricks.com/a-complete-guide-to-data-attributes/" title="lire l’article A Complete Guide to Data Attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en"><em>A Complete Guide to Data Attributes</em></a>.</p>
<h4 data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-margin-top="1rem" data-ym-font-size="calc(var(--xs) * 1rem)">Classes</h4>
<p data-ym-display="block" data-ym-margin-top="1rem">En <abbr title="Cascading Styles Sheets">Css</abbr>, chaque sélecteur a une spécificité. La hiérarchie s’organise comme suit en schématisant&#x202f;: balise (priorité 1), classe (priorité 10), identifiant (priorité 100). En cas de conflit, la dernière règle s’applique grâce à la cascade. (La règle <em>!important</em> a une priorité de 10 000&#x202f;; elle signe un travail bâclé.)</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Les <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a> ont la même spécificité que les classes.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Afin d’éviter les conflits, une bonne pratique consiste à n’utiliser que des classes pour la mise en forme. Les identifiants sont réservés aux interactions avec JavaScript.</p>
<h4 data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-font-size="calc(var(--xs) * 1rem)" data-ym-margin-top="1rem">Balises</h4>
<p data-ym-display="block" data-ym-margin-top="1rem">Les balises servent exclusivement à structurer le contenu.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Souvenir des balbutiements du Web, chaque navigateur attribue aux balises un style par défaut, qui compromet la <span data-ym-font-weight="var(--font-weight-bold)"><strong>sémantique</strong></span>, d’une part, et, d’autre part, parasite la mise en forme. Aussi convient-il de réinitialiser les styles et d’obtenir le rendu visuel souhaité exclusivement au moyen de classes (ou des <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a>).</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Privé.e des éléments visuels imposés par le navigateur, l’auteur.autrice emploie la <span data-ym-font-weight="var(--font-weight-bold)"><strong>sémantique</strong></span> à bon escient… Pourquoi recourir à <code data-ym-hyphens="none">&#x3c;strong&#x3e;</code> pour afficher du gras&#x202f;? Ce contenu a-t-il une haute importance&#x202f;? Pourquoi utiliser <code data-ym-hyphens="none">&#x3c;em&#x3e;</code> pour obtenir de l’italique&#x202f;? Ce texte mérite-t-il une emphase&#x202f;? (Une portion de texte en italique parmi du romain créée une rupture visuelle incongrue comme le soulignement des liens et autres acronymes, d’ailleurs&#x202f;!) Ne vaut-il mieux utiliser un élement générique <code data-ym-hyphens="none">&#x3c;span&#x3e;</code> aux fins de décoration&#x202f;?</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Le respect de la <span data-ym-font-weight="var(--font-weight-bold)"><strong>sémantique</strong></span> favorise le référencement par les moteurs de recherche et la compréhension du contenu par les agents utilisateurs, notamment ceux qui n’offrent pas de restitution visuelle.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Un lien peut servir à la compréhension du contenu par les moteurs de recherche mais ne pas être heureux à signaler au.à la lecteur.lectrice. Cette pratique est néanmoins déconseillée.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Assigner un style à une balise oblige à modifier son apparence dans les cas spécifiques. Par exemple, afin de maintenir le rythme vertical nécessaire à une composition harmonieuse, est attribuée par défaut une marge supérieure aux paragraphes avec <code data-ym-hyphens="none">p {margin-top: 1.5 rem}</code>&#x202f;; si cette marge devient indésirable, par exemple pour un paragraphe inclus dans un item de liste, l’emploi d’une classe comme <code data-ym-hyphens="none">.unwelcome {margin-top: 0}</code> s’impose. Approche guère rationnelle…</p>
<p data-ym-display="block" data-ym-margin-top="1rem">En revanche, il est commode de styler directement (<em>en dur</em>) les balises qui reçoivent des <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-elements" title="lire la documentation à propos des pseudo-éléments (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">pseudo-éléments</a>, par exemple guillemets ou ornements textuels, si leur apparence dans la page ne varie pas.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Plutôt que recourir à une librairie comme <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://necolas.github.io/normalize.css/"  title="aller sur le site Normalize.css (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Normalize.css</a> pour citer la plus connue, l’usage de la propriété raccourcie <code data-ym-hyphens="none">all: unset</code> semble préférable.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Ainsi…</p>
<pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
a, abbr, address, area, article, aside, audio, b, base, bdi, bdo, blockquote, body, br, button, canvas, caption, cite, code, col, colgroup, data, datalist, dd, del, details, dfn, dialog, div, dl, dt, em, embed, fieldset, figcaption, figure, footer, form, h1, h2, h3, h4, h5, h6, head, header, hgroup, hr, html, i, iframe, img, input, ins, kbd, label, legend, li, link, main, map, mark, math, menu, menuitem, meta, meter, nav, noscript, object, ol, optgroup, option, output, p, param, picture, pre, progress, q, rb, rp, rt, rtc, ruby, s, samp, script, section, select, slot, small, source, span, strong, style, sub, summary, sup, svg, table, tbody, td, template, textarea, tfoot, th, thead, time, title, tr, track, u, ul, var, video, wbr</pre>
<p data-ym-display="block" data-ym-margin-top="1rem">… ou, en ne ciblant, que les élements visuels…</p>
<pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
a, abbr, address, area, article, aside, audio, b, base, bdi, bdo, blockquote, body, br, button, canvas, caption, cite, code, col, colgroup, data, datalist, dd, del, details, dfn, dialog, div, dl, dt, em, embed, fieldset, figcaption, figure, footer, form, h1, h2, h3, h4, h5, h6, header, hgroup, hr, html, i, iframe, img, input, ins, kbd, label, legend, li, main, map, mark, math, menu, menuitem, meter, nav, object, ol, optgroup, option, output, p, param, picture, pre, progress, q, rb, rp, rt, rtc, ruby, s, samp, section, select, slot, small, source, span, strong, sub, summary, sup, svg, table, tbody, td, template, textarea, tfoot, th, thead, time, tr, track, u, ul, var, video, wbr {
    all: unset
}</pre>
<p data-ym-display="block" data-ym-margin-top="1rem">… réinitialise chaque balise.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Un travail rigoureux commande de réinitialiser les seules balises pertinentes&#x202f;: la ressource est rare&#x202f;! n’en déplaise aux amateurs de vastes librairies <abbr title="Cascading Styles Sheets">Css</abbr> prêtes à l’emploi.</p>
<p data-ym-display="block" data-ym-margin-top="1rem"><a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://www.w3schools.com/cssref/css_default_values.asp" title="aller sur la page CSS Default Values Reference (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">CSS Default Values Reference</a> indique les valeurs <abbr title="Cascading Styles Sheets">Css</abbr> par défaut de chaque sélecteur. La réinitialisation proposée peut paraître déconcertante quand les classes (ou les <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a>&#x202f;!) n’existent pas encore.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Le support de la propriété <em>all</em> est universel, comme l’indique <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://caniuse.com/#feat=css-unset-value" title="aller sur le site Can I use…  Support tables for HTML5, CSS3, etc (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Can I use CSS unset value</a>.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Cependant, la réinitialisation n’est pas parfaite, par exemple avec les éléments <code data-ym-hyphens="none">&#x3c;details&#x3e;</code> et <code data-ym-hyphens="none">&#x3c;summary&#x3e;</code>&#x202f;: une recherche devient alors nécessaire afin de déterminer comment les navigateurs gèrent ces balises.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Les outils de <span data-ym-color="var(--primary-color)" data-ym-font-variant="small-caps" data-ym-font-weight="var(--font-weight-bold)">Lymnee</span> proposent une réinitialisation <em>intelligente</em>.</p>
<h2 data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-font-size="calc(var(--xx) * 1rem)" data-ym-margin-top="1rem">Syntaxe</h2>
<p data-ym-display="block" data-ym-margin-top="1rem">Chaque sélecteur commence par <em>data-ym-</em> ou un espace de nom équivalent. La valeur est encadrée par des guillemets.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Un attribut s’écrit <code data-ym-hyphens="none">data-ym-selecteur&#x3d;&#x22;valeur&#x22;</code>. La valeur reçoit des guillemets doubles de part et d’autre… <code data-ym-hyphens="none">&#x22;valeur&#x22;</code>. Le sélecteur et la valeur doivent être <span data-ym-font-weight="var(--font-weight-bold)">conformes</span> aux <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://www.w3.org/Style/CSS/specs.en.html" title="lire les spécifications Css (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">spécifications Css</a>.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Connaissant la syntaxe <abbr title="Cascading Styles Sheets">Css</abbr>…</p>
<pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
.myclass {
    background-color: yellow;
    display: flex
}</pre>
<p data-ym-display="block" data-ym-margin-top="1rem">… Il est facile d’en déduire par rétroaction les <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a> <abbr title="Hypertext Markup Language">Html</abbr>…</p>
<pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
&#x3c;div data-ym-background-color="yellow" data-ym-display="flex"&#x3e;Div&#x3c;/div&#x3e;
</pre>
<p data-ym-display="block" data-ym-margin-top="1rem">La syntaxe des <a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a> utilise les opérateurs booléens&#x202f;: <code data-ym-hyphens="none">&#x202f;&#x7c;&#x7c;&#x202f;</code> (or), <code data-ym-hyphens="none">&#x202f;&#x26;&#x26;&#x202f;</code> (and), <code data-ym-hyphens="none">&#x202f;&#x21;&#x21;&#x202f;</code> (yes). Les booléens, qui s'écrivent de gauche à droite, sont encadrés d’une espace et suivent cet ordre. L’arobase <code data-ym-hyphens="none">&#xff20;</code> spécifie une requête média, comme en <abbr title="Cascading Styles Sheets">Css</abbr>.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Le code-source de la présente page contient plusieurs dizaines d’exemples, tandis que la console affiche les styles. Les styles sont écrits à la volée, à titre expérimental.</p>
<dl>
    <dt data-ym-display="block" data-ym-margin-top="1rem" data-ym-font-weight="var(--font-weight-bold)">Attribut simple</dt>
    <dd>
        <pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
&#x3c;p data-ym-color="blue"&#x3e;Paragraph&#x3c;/p&#x3e;

[data-ym-color="blue"] {
    color: blue
}</pre>
        <p data-ym-display="block" data-ym-margin-top="1rem">Une balise peut recevoir un nombre infini d’<a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a>…</p>
        <pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
&#x3c;p data-ym-color="blue" data-ym-font-size="medium"&#x3e;Paragraph&#x3c;/p&#x3e;</pre>
        <p data-ym-display="block" data-ym-margin-top="1rem">Le nom d’un attribut n’est pas duplicable&#x202f;: l’opérateur <code data-ym-hyphens="none">&#x202f;&#x7c;&#x7c;&#x202f;</code> répond à cet usage.</p>
        <p data-ym-display="block" data-ym-margin-top="1rem">Les <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-classes" title="lire la documentation à propos des pseudo-classes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">pseudo-classes</a> ne sont pas supportées. En revanche, les <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-elements" title="lire la documentation à propos des pseudo-éléments (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">pseudo-éléments</a> sont licites…</p>
        <pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
&#x3c;p data-ym-content="'•'::before"&#x3e;Paragraph&#x3c;/p&#x3e;

[data-ym-content="'•'::before"]::before {
        content: '•'
}</pre>
        <p data-ym-display="block" data-ym-margin-top="1rem">Le symbole littéral <em>&#x2022;</em> est encadré par des guillemets simples droits <em>&#x27;</em> dans la déclaration <abbr title="Hypertext Markup Language">Html</abbr>.</p>
        <p data-ym-display="block" data-ym-margin-top="1rem">Les <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries" title="lire l’article Using media queries (S’ouvre dans une nouvelle fenêtre)" target="_blank">Media queries</a> (<em>requêtes media</em>) sont prises en charge.</p>
        <pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
&#x3c;div data-ym-max-width="1024px@media screen and (min-width: 1024px)"&#x3e;Div&#x3c;/div&#x3e;

@media screen and (min-width: 1024px) {
    [data-ym-max-width="1024px@media screen and (min-width: 1024px)"] {
        max-width: 1024px
    }
}</pre>
        <p data-ym-display="block" data-ym-margin-top="1rem">Les <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties" title="lire l’article Using CSS custom properties (variables) (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">variables Css</a> sont utilisables…</p>
        <pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
&#x3c;p data-ym-font-weight="var(--font-weight-bold)"&#x3e;Paragraph&#x3c;/p&#x3e;

:root {
    --font-weight-bold: 700;
}

[data-ym-font-weight="var(--font-weight-bold)"] {
    font-weight: var(--font-weight-bold)
}</pre>
        <p data-ym-display="block" data-ym-margin-top="1rem">Une valeur peut comprendre n’importe quel caractère, hormis le guillemet <em>&#x22;</em>…</p>
        <pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
&#x3c;img data-ym-filter="invert(13%) sepia(92%) saturate(7286%) hue-rotate(0deg) brightness(94%) contrast(117%)"&#x3e;

[data-ym-filter="invert(13%) sepia(92%) saturate(7286%) hue-rotate(0deg) brightness(94%) contrast(117%)"] {
    filter: invert(13%) sepia(92%) saturate(7286%) hue-rotate(0deg) brightness(94%) contrast(117%)
}</pre>
<p data-ym-display="block" data-ym-margin-top="1rem">Dernière illustration…</p>
<pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
&#x3c;div data-ym-animation="sweep 1.5s ease-in-out"&#x3e;&#x3c;/div&#x3e;
    
[data-ym-animation="sweep 1.5s ease-in-out"] {
    animation: sweep 1.5s ease-in-out
}</pre>
    </dd>
    <dt data-ym-display="block" data-ym-margin-top="1rem" data-ym-font-weight="var(--font-weight-bold)">Attribut avec l’opérateur <code data-ym-hyphens="none">&#x202f;&#x7c;&#x7c;&#x202f;</code></dt>
    <dd>
        <p data-ym-display="block" data-ym-margin-top="1rem">Avec le booléen <em>or</em> sont appliquées plusieurs valeurs au même attribut. C'est utile notamment pour les <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries" title="lire l’article Using media queries (S’ouvre dans une nouvelle fenêtre)" target="_blank">Media queries</a> (<em>requêtes media</em>).</p>
        <p data-ym-display="block" data-ym-margin-top="1rem">Premier exemple…</p>
        <pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
&#x3c;p data-ym-font-family="sans-serif@media screen || monospace@media print"&#x3e;Paragraph&#x3c;/p&#x3e;

@media screen {
    [data-ym-font-family="sans-serif@media screen || monospace@media print"] {
        font-family: sans-serif
    }
}
@media print {
    [data-ym-font-family="sans-serif@media screen || monospace@media print"] {
        font-family: monospace
    }
}</pre>
        <p data-ym-display="block" data-ym-margin-top="1rem">Deuxième illustration…</p>
        <pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
&#x3c;div data-ym-display="flex@media screen and (min-width: 30em) and (max-width: 50em) || inline@media screen and (min-width: 50em)"&#x3e;Div&#x3c;/div&#x3e;

@media screen and (min-width: 30em) and (max-width: 50em) {
    [data-ym-display="flex@media screen and (min-width: 30em) and (max-width: 50em) || inline@media screen and (min-width: 50em)"] {
        display: flex
    }
}
@media screen and (min-width: 50em) {
    [data-ym-display="flex@media screen and (min-width: 30em) and (max-width: 50em) || inline@media screen and (min-width: 50em)"] {
        display: inline
    }
}</pre>
    <p data-ym-display="block" data-ym-margin-top="1rem">Le troisième exemple est plus complexe à appréhender…</p>
    <pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
&#x3c;div data-ym-display="inline-block::before || block"&#x3e;Div&#x3c;/div&#x3e;

[data-ym-display="inline-block::before || block"]::before {
    display: inline-block
}
[data-ym-display="inline-block::before || block"] {
    display: block
}</pre>
    </dd>
    <dt data-ym-display="block" data-ym-margin-top="1rem" data-ym-font-weight="var(--font-weight-bold)">Attribut avec l’opérateur <code data-ym-hyphens="none">&#x202f;&#x26;&#x26;&#x202f;</code></dt>
    <dd>
        <p data-ym-display="block" data-ym-margin-top="1rem">Le booléen <em>and</em> permet l’usage d’un sélecteur contextuel.</p>
        <p data-ym-display="block" data-ym-margin-top="1rem">Première illustration…</p>
        <pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
&#x3c;div class="ispage"&#x3e;
    &#x3c;div data-ym-background-color="red && ispage"&#x3e;Div&#x3c;/div&#x3e;
&#x3c;/div&#x3e;

.ispage [data-ym-background-color="red && ispage"] {
    background-color: red
}</pre>
        <p data-ym-display="block" data-ym-margin-top="1rem">Deuxième exemple, avec deux sélecteurs contextuels différents…</p>
        <pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
&#x3c;div class="ishome"&#x3e;
    &#x3c;div data-ym-font-weight="600@media screen and (min-width: 30em) and (max-width: 50em) && ishome || 700@media screen and (min-width: 50em) && ispage"&#x3e;Div&#x3c;/div&#x3e;
&#x3c;/div&#x3e;

&#x3c;div class="ispage"&#x3e;
    &#x3c;div data-ym-font-weight="600@media screen and (min-width: 30em) and (max-width: 50em) && ishome || 700@media screen and (min-width: 50em) && ispage"&#x3e;Div&#x3c;/div&#x3e;
&#x3c;/div&#x3e;

@media screen and (min-width: 30em) and (max-width: 50em) {
	.ishome [data-ym-font-weight="600@media screen and (min-width: 30em) and (max-width: 50em) && ishome || 700@media screen and (min-width: 50em) && ispage"] {
		font-weight: 600
	}
}
@media screen and (min-width: 50em) {
	.ispage [data-ym-font-weight="600@media screen and (min-width: 30em) and (max-width: 50em) && ishome || 700@media screen and (min-width: 50em) && ispage"] {
		font-weight: 700
	}
}</pre>
    </dd>
    <dt data-ym-display="block" data-ym-margin-top="1rem" data-ym-font-weight="var(--font-weight-bold)">Attribut avec l’opérateur <code data-ym-hyphens="none">&#x202f;&#x21;&#x21;&#x202f;</code></dt>
    <dd>
        <p data-ym-display="block" data-ym-margin-top="1rem">Le booléen <em>yes</em> permet l’utilisation des règles <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Web/CSS/@supports" title="lire l’article @supports (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">@supports</a>, sous la forme du nom de la propriété suivi par deux points puis par la valeur…</p>
        <pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
&#x3c;div data-ym-display="block || grid !! display: grid"&#x3e;Div&#x3c;/div&#x3e;

[data-ym-display="block || flex !! display: grid"] {
	display: block
}
@supports (display: flex) {
	[data-ym-display="block || flex !! display: grid"] {
		display: grid
	}
}</pre>
    <p data-ym-display="block" data-ym-margin-top="1rem">Ici, s’applique la cascade.</p>       
    </dd>
    <dt data-ym-display="block" data-ym-margin-top="1rem" data-ym-font-weight="var(--font-weight-bold)">Conjugaison de tous les opérateurs</dt>
    <dd>
        <p data-ym-display="block" data-ym-margin-top="1rem">À titre d’exemple&#x202f;!…</p>
        <pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
&#x3c;div class="ishome"&#x3e;
    &#x3c;div data-ym-font-weight="600@media screen and (min-width: 30em) and (max-width: 50em) && ishome !! display: block || 700@media screen and (min-width: 50em) && ispage !! display: flex"&#x3e;Div&#x3c;/div&#x3e;
&#x3c;/div&#x3e;

&#x3c;div class="ishome"&#x3e;
    &#x3c;div data-ym-font-weight="600@media screen and (min-width: 30em) and (max-width: 50em) && ishome !! display: block || 700@media screen and (min-width: 50em) && ispage !! display: flex"&#x3e;Div&#x3c;/div&#x3e;
&#x3c;/div&#x3e;

@supports (display: block) {
	@media screen and (min-width: 30em) and (max-width: 50em) {
		.ishome [data-ym-font-weight="600@media screen and (min-width: 30em) and (max-width: 50em) && ishome !! display: block || 700@media screen and (min-width: 50em) && ispage !! display: flex"] {
			font-weight: 600
		}
	}
}
@supports (display: flex) {
	@media screen and (min-width: 50em) {
		.ispage [data-ym-font-weight="600@media screen and (min-width: 30em) and (max-width: 50em) && ishome !! display: block || 700@media screen and (min-width: 50em) && ispage !! display: flex"] {
			font-weight: 700
		}
	}
}</pre>
</dl>
<p data-ym-display="block" data-ym-margin-top="1rem">Le codage manuel du style de ces <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a> est facile, mais il peut être automatisé.</p>
<h2 data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-font-size="calc(var(--xx) * 1rem)" data-ym-margin-top="1rem">Librairies</h2>
<p data-ym-display="block" data-ym-margin-top="1rem">Trois librairies sont disponibles pour écrire les styles correspondant aux <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a> qui respectent la syntaxe <span data-ym-color="var(--primary-color)" data-ym-font-variant="small-caps" data-ym-font-weight="var(--font-weight-bold)">Lymnee</span>.</p>
<ol data-ym-display="block" data-ym-list-style-position="inside" data-ym-list-style-type="lower-alpha" data-ym-margin-top="1rem">
    <li data-ym-color="var(--primary-color)::marker" data-ym-display="list-item">un paquet <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://nodejs.org/en/" title="aller sur le site Node.js (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Node.js</a> avec dépendances&#x202f;;</li>
    <li data-ym-color="var(--primary-color)::marker" data-ym-display="list-item">un fichier <abbr title="Hypertext Preprocessor">Php</abbr>&#x202f;;</li>
    <li data-ym-color="var(--primary-color)::marker" data-ym-display="list-item">un fichier en Javascript.</li>
</ol>
<p data-ym-display="block" data-ym-margin-top="1rem">La simplicité de lecture de <span data-ym-color="var(--primary-color)" data-ym-font-variant="small-caps" data-ym-font-weight="var(--font-weight-bold)">Lymnee</span> par un humain facilite son traitement logique…</p>
<h3 data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-font-size="calc(var(--x) * 1rem)" data-ym-margin-top="1rem">À propos de XPath</h3>
<p data-ym-display="block" data-ym-margin-top="1rem">… Surtout que le langage de requête <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://www.w3.org/TR/xpath-31/" title="aller sur la page XML Path Language (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">XML Path Language</a> localise les nœuds.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Avec le paquet <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://www.npmjs.com/package/xpath" title="aller sur la page du paquet xpath (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">xpath</a> dans <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://nodejs.org/en/" title="aller sur le site Node.js (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Node.js</a>, la syntaxe pour identifier ces nœuds s’écrit…</p>
<pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
var prefixDataAttributes = 'data-ym-';
var nodesYm = xpath.select('//@*[starts-with(name(), "' +  prefixDataAttributes.slice(0, -1) + '")]', doc);</pre>
<p data-ym-display="block" data-ym-margin-top="1rem">En JavaScript, la syntaxe pour identifier ces nœuds s’écrit…</p>
<pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
var prefixDataAttributes = 'data-ym-';
var nodesYm = document.evaluate('//@*[starts-with(name(), "' +  prefixDataAttributes.slice(0, -1) + '")]', document, null, XPathResult.ANY_TYPE, null);</pre>
<p data-ym-display="block" data-ym-margin-top="1rem">La méthode <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Web/API/XPathResult/iterateNext" title="lire la documentation à propos de XPathResult.iterateNext() (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">iterateNext()</a> effectue une itération sur chaque nœud.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">En <abbr title="Hypertext Preprocessor">Php</abbr>, la syntaxe pour identifier ces nœuds s’écrit…</p>
<pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
$prefixDataAttributes = 'data-ym-';
$nodesYm = $xpath->query('//@*[starts-with(name(), "'.substr($prefixDataAttributes, 0, -1).'")]');</pre>
<p data-ym-display="block" data-ym-margin-top="1rem">Les trois prédicats sont identiques, bien évidemment&#x202f;!</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Pour identifier toutes les balises en JavaScript, la syntaxe est…</p>
<pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
var tags = document.evaluate('//*', document, null, XPathResult.ANY_TYPE, null);</pre>
<p data-ym-display="block" data-ym-margin-top="1rem">Pour identifier uniquement les balises comportant l'attribut <em>data-ym-</em>, la requête devient…</p>
<pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
var prefixDataAttributes = 'data-ym-';
var tags = document.evaluate('//*[starts-with(name(@*), "' +  prefixDataAttributes.slice(0, -1) + '")]', document, null, XPathResult.ANY_TYPE, null);</pre>
<h3 data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-font-size="calc(var(--x) * 1rem)" data-ym-margin-top="1rem">Paquet node.js</h3>
<p data-ym-display="block" data-ym-margin-top="1rem">Au préalable, le script doit être installé&#x202f;: <kbd data-ym-hyphens="none">npm install -g lymnee.js</kbd>. Lors du processsus d’installation, les dépendances sont ajoutées.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Le code-source de <a data-ym-color="var(--opposite-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://github.com/lymnee/lymnee/blob/master/lymnee.js" title="consulter le fichier lymnee.js (S’ouvre dans une nouvelle fenêtre)" target="_blank"><em>lymnee.js</em></a> est disponible.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Le script s’exécute avec la commande <kbd data-ym-hyphens="none">node lymnee.js</kbd>. Dans ce cas, elle est utilisée sans paramètre.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Sont recherchés par défaut les fichiers au format <abbr title="Hypertext Markup Language">Html</abbr> dans le répertoire courant et les sous-répertoires. Les <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a> sous la forme <em>data-ym-</em> sont traités. Une feuille de style intitulée <em>lymnee.css</em> est produite dans le même répertoire que <em>lymnee.js</em>. Elle n’est pas compressée (elle est facile à lire par un humain).</p>
<p data-ym-display="block" data-ym-margin-top="1rem">La commande peut invoquer plusieurs paramètres, par exemple <kbd data-ym-hyphens="none">node lymnee.js cssNameFile=style excludeDirectories=/home/admin/web/foo.com/public_html/bar excludeFiles=draft.html includeExtensions=html,php path=current prefixDataAttributes=data-some reset=lymnee uncompress=false</kbd>.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Chaque paramètre est facultatif. L’ordre est sans importance.</p>
<h4 data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-font-size="calc(var(--xs) * 1rem)" data-ym-margin-top="1rem">Paramètres</h4>
<dl>
    <dt data-ym-display="block" data-ym-margin-top="1rem"><mark data-ym-hyphens="none">cssNameFile</mark></dt>
    <dd data-ym-display="block">C’est le nom du fichier au format <abbr title="Cascading Styles Sheets">Css</abbr> à écrire. Par exemple, <em>style</em> produira <em>style.css</em>.</dd>
    <dt data-ym-display="block" data-ym-margin-top="1rem"><mark data-ym-hyphens="none">excludeDirectories</mark></dt>
    <dd data-ym-display="block">Un sous-répertoire peut être exclu de la recherche en indiquant son chemin relatif. Par exemple <em>a/b/c</em> voire, s’il y en a plusieurs, <em>a/b/c,d/</em> ou <em>a/b/c, d/</em>. Dans le paramètre, les virgules peuvent être suivies d’une espace.</dd>
    <dt data-ym-display="block" data-ym-margin-top="1rem"><mark data-ym-hyphens="none">excludeFiles</mark></dt>
    <dd data-ym-display="block">Certains fichiers peuvent être exclus de la recherche. Si le fichier est dans le répertoire courant, son nom suivi de son extension est requis. Si le fichier est dans un sous-répertoire, son chemin relatif doit être précisé suivi de son nom et de son extension. Par exemple, <em>draft.html</em>, voire <em>draft.html,a/b/c/draft.js</em> ou <em>draft.html, a/b/c/draft.js</em>. Dans le paramètre, les virgules peuvent être suivies d’une espace.</dd>
    <dt data-ym-display="block" data-ym-margin-top="1rem"><mark data-ym-hyphens="none">includeExtensions</mark></dt>
    <dd data-ym-display="block">Par défaut sont parcourus les fichiers au format <abbr title="Hypertext Markup Language">Html</abbr>, mais la recherche peut porter sur d’autres fichiers. Par exemple, pour lire les fichiers au format JavaScript ou <abbr title="Hypertext Preprocessor">Php</abbr>, est indiqué <em>js,php</em> ou <em>js, php</em>. Dans le paramètre, les virgules peuvent être suivies d’une espace. Pour parcourir seulement les fichiers JavaScript, deuxième exemple, le paramètre est <em>js</em>.</dd>
    <dt data-ym-display="block" data-ym-margin-top="1rem"><mark data-ym-hyphens="none">path</mark></dt>
    <dd data-ym-display="block">Avec la valeur <em>current</em>, sont recherchés les fichiers dans le répertoire courant et ses sous-répertoires. Un chemin absolu permet la recherche dans un autre répertoire et ses sous-répertoires, par exemple <em>/home/admin/web/foo.com/public_html/project</em>.</dd>
    <dt data-ym-display="block" data-ym-margin-top="1rem"><mark data-ym-hyphens="none">prefixDataAttributes</mark></dt>
    <dd data-ym-display="block">Le préfixe par défaut des <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a> est <em>data-my-</em>. Cependant, il peut être remplacé dans le code <abbr title="Hypertext Markup Language">Html</abbr>&#x202f;: le préfixe doit débuter par <em>data-</em> et être suivi d’un nom arbitraire sous la forme <em>nom-</em>&#x202f;: <em>data-nom-</em>. Par exemple, si le préfixe est <em>data-my-</em>, cet espace de nom est déclaré lors de la compilation.</dd>
    <dt data-ym-display="block" data-ym-margin-top="1rem"><mark data-ym-hyphens="none">reset</mark></dt>
    <dd data-ym-display="block">Avec la valeur <em>lymnee</em> sont réinitialisés les styles par défaut des navigateurs des éléments qui reçoivent l’attribut <em>data-ym-</em> ou un équivalent. Avec la valeur <em>all</em> sont réinitialisés les styles par défaut des navigateurs de <span data-ym-font-weight="var(--font-weight-bold)">tous</span> les éléments visibles. Par exemple, la balise <code data-ym-hyphens="none">&#x3c;head&#x3e;</code> n’est pas modifiée. Dans les deux cas, en raison de la cascade, la réinitialisation s’affiche au début de la feuille de style. Si le paramètre est omis ou vaut <em>none</em>, aucune réinitialisation n’est proposée.</dd>
    <dt data-ym-display="block" data-ym-margin-top="1rem"><mark data-ym-hyphens="none">uncompress</mark></dt>
    <dd data-ym-display="block">La valeur <em>false</em> produit un fichier au format <abbr title="Cascading Styles Sheets">Css</abbr> compressé, c’est-à-dire sans saut de ligne et espace inutile. Il est toujours judicieux d’économiser de la bande passante, même quelques octets,  en production&#x202f;!</dd>
</dl>
<p data-ym-display="block" data-ym-margin-top="1rem">À l’issue du traitement, la console confirme le succès de l’opération, affiche les règles et indique si le code <abbr title="Cascading Styles Sheets">Css</abbr> est valide.</p>
<h3 data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-font-size="calc(var(--x) * 1rem)" data-ym-margin-top="1rem">Fichier Php</h3>
<p data-ym-display="block" data-ym-margin-top="1rem">Le script s’exécute grâce à <a data-ym-color="var(--opposite-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://github.com/lymnee/lymnee/blob/master/lymnee.php" title="consulter le fichier lymnee.php (S’ouvre dans une nouvelle fenêtre)" target="_blank"><em>lymnee.php</em></a>. Il a été développé avec la version 7.4.8. Avant utilisation, le fichier doit recevoir la permission d’écrire, par exemple avec un script sous la forme…</p>
<pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
&#x3c;?php chmod(/somedir/somefile", 0644);</pre>
<p data-ym-display="block" data-ym-margin-top="1rem">… Ou en modifiant directement la valeur de <em>chmod</em> avec le gestionnaire de fichiers ou en tapant la commande <em>ad hoc</em>.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Le fichier peut être exécuté sans paramètre.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Sont recherchés par défaut les fichiers au format <abbr title="Hypertext Markup Language">Html</abbr> dans le répertoire courant et les sous-répertoires. Les <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a> sous la forme <em>data-ym-</em> sont traités. Une feuille de style intitulée par défaut <em>lymnee.css</em> est produite dans le même répertoire que <em>lymnee.php</em>. Elle n’est pas compressée (elle est facile à lire par un humain).</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Le fichier peut invoquer plusieurs paramètres, par exemple <kbd data-ym-hyphens="none">lymnee.php?cssNameFile=styles&#x2026;excludeFiles=else.html,sub/foo.js&includeExtensions=html,js&#x2026;path=/home/admin/web/foo.com/public_html/lymnee&#x2026;prefixDataAttributes=data-some&#x2026;reset=lymnee&#x2026;uncompress=true</kbd>.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Chaque paramètre est facultatif. L’ordre est sans importance.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Le premier paramètre est toujours précédé de <em>?</em>&#x202f;: il s’agit d’une requête <em>GET</em>. Bien entendu, ce script non sécurisé n’est pas utilisable en production&#x202f;!</p>
<h4 data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-font-size="calc(var(--xs) * 1rem)" data-ym-margin-top="1rem">Paramètres</h4>
<dl>
    <dt data-ym-display="block" data-ym-margin-top="1rem"><mark data-ym-hyphens="none">cssNameFile</mark></dt>
    <dd data-ym-display="block">C’est le nom du fichier au format <abbr title="Cascading Styles Sheets">Css</abbr> à écrire. Par exemple, <em>style</em> produira <em>style.css</em>.</dd>
    <dt data-ym-display="block" data-ym-margin-top="1rem"><mark data-ym-hyphens="none">excludeDirectories</mark></dt>
    <dd data-ym-display="block">Un sous-répertoire peut être exclu de la recherche en indiquant son chemin relatif. Par exemple <em>a/b/c</em> voire, s’il y en a plusieurs, <em>a/b/c,d/</em> ou <em>a/b/c, d/</em>. Dans le paramètre, les virgules peuvent être suivies d’une espace.</dd>
    <dt data-ym-display="block" data-ym-margin-top="1rem"><mark data-ym-hyphens="none">excludeFiles</mark></dt>
    <dd data-ym-display="block">Certains fichiers peuvent être exclus de la recherche. Si le fichier est dans le répertoire courant, son nom suivi de son extension est requis. Si le fichier est dans un sous-répertoire, son chemin relatif doit être précisé suivi de son nom et de son extension. Par exemple, <em>draft.html</em>, voire <em>draft.html,a/b/c/draft.js</em> ou <em>draft.html, a/b/c/draft.js</em>. Dans le paramètre, les virgules peuvent être suivies d’une espace.</dd>
    <dt data-ym-display="block" data-ym-margin-top="1rem"><mark data-ym-hyphens="none">includeExtensions</mark></dt>
    <dd data-ym-display="block">Par défaut sont parcourus les fichiers au format <abbr title="Hypertext Markup Language">Html</abbr>, mais la recherche peut porter sur d’autres fichiers. Par exemple, pour lire les fichiers au format JavaScript ou <abbr title="Hypertext Preprocessor">Php</abbr>, est indiqué <em>js,php</em> ou <em>js, php</em>. Dans le paramètre, les virgules peuvent être suivies d’une espace. Pour parcourir seulement les fichiers JavaScript, deuxième exemple, le paramètre est <em>js</em>.</dd>
    <dt data-ym-display="block" data-ym-margin-top="1rem"><mark data-ym-hyphens="none">path</mark></dt>
    <dd data-ym-display="block">Avec la valeur <em>current</em>, sont recherchés les fichiers dans le répertoire courant et ses sous-répertoires. Un chemin absolu permet la recherche dans un autre répertoire et ses sous-répertoires, par exemple <em>/home/admin/web/foo.com/public_html/project</em>.</dd>
    <dt data-ym-display="block" data-ym-margin-top="1rem"><mark data-ym-hyphens="none">prefixDataAttributes</mark></dt>
    <dd data-ym-display="block">Le préfixe par défaut des <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a> est <em>data-ym-</em>. Cependant, il peut être remplacé dans le code <abbr title="Hypertext Markup Language">Html</abbr>&#x202f;: le préfixe doit débuter par <em>data-</em> et être suivi d’un nom arbitraire sous la forme <em>nom-</em>&#x202f;: <em>data-nom-</em>. Par exemple, si le préfixe est <em>data-my-</em>, cet espace de nom est déclaré lors de la compilation.</dd>
    <dt data-ym-display="block" data-ym-margin-top="1rem"><mark data-ym-hyphens="none">reset</mark></dt>
    <dd data-ym-display="block">Avec la valeur <em>lymnee</em> sont réinitialisés les styles par défaut des navigateurs des éléments qui reçoivent l’attribut <em>data-ym-</em> ou un espace de nom équivalent. Avec la valeur <em>all</em> sont réinitialisés les styles par défaut des navigateurs de <span data-ym-font-weight="var(--font-weight-bold)">tous</span> les éléments visibles. Par exemple, la balise <code data-ym-hyphens="none">&#x3c;head&#x3e;</code> n’est pas modifiée. Dans les deux cas, en raison de la cascade, la réinitialisation s’affiche au début de la feuille de style. Si le paramètre est omis ou vaut <em>none</em>, aucune réinitialisation n’est proposée.</dd>
    <dt data-ym-display="block" data-ym-margin-top="1rem"><mark data-ym-hyphens="none">uncompress</mark></dt>
    <dd data-ym-display="block">La valeur <em>false</em> produit un fichier au format <abbr title="Cascading Styles Sheets">Css</abbr> compressé, c’est-à-dire sans saut de ligne et espace inutile. Il est toujours judicieux d’économiser de la bande passante, même quelques octets, en production&#x202f;!</dd>
</dl>
<p data-ym-display="block" data-ym-margin-top="1rem">À l’issue du traitement, la page confirme le succès de l’opération et affiche les règles.</p>
<h3 data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-font-size="calc(var(--x) * 1rem)" data-ym-margin-top="1rem">Fichier en JavaScript</h3>
<p data-ym-display="block" data-ym-margin-top="1rem">Le fichier en JavaScript se limite à afficher dans la console du navigateur le code <abbr title="Cascading Styles Sheets">Css</abbr> des éléments de la page en cours. Pour mémoire, il est impossible avec ce langage côté client de lire le contenu d’une autre page ou d’un répertoire. Cependant, cette solution rudimentaire permet de l’éprouver en quelques secondes.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">Deux fichiers sont disponibles&#x202f;:</p>
<ul data-ym-display="block" data-ym-list-style-position="inside" data-ym-list-style-type="square" data-ym-margin-top="1rem">
    <li data-ym-color="var(--primary-color)::marker" data-ym-display="list-item"><a data-ym-color="var(--opposite-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://github.com/lymnee/lymnee/blob/master/lymnee.vanilla.html" title="consulter le fichier lymnee.vanilla.html (S’ouvre dans une nouvelle fenêtre)" target="_blank"><em>lymnee.vanilla.html</em></a>, dont le code <abbr title="Hypertext Markup Language">Html</abbr> est à compléter, mais qui inclut le script&#x202f;;</li>
    <li data-ym-color="var(--primary-color)::marker" data-ym-display="list-item"><a data-ym-color="var(--opposite-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://github.com/lymnee/lymnee/blob/master/lymnee.vanilla.js" title="consulter le fichier lymnee.vanilla.js (S’ouvre dans une nouvelle fenêtre)" target="_blank"><em>lymnee.vanilla.js</em></a>.</li>
</ul>
<p data-ym-display="block" data-ym-margin-top="1rem">Doivent être définies au préalable, au début du script, les variables…</p>
<dl>
    <dt data-ym-display="block" data-ym-margin-top="1rem"><mark data-ym-hyphens="none">prefixDataAttributes</mark></dt>
    <dd data-ym-display="block">Le préfixe par défaut des <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a> est <em>data-ym-</em>. Cependant, il peut être remplacé dans le code <abbr title="Hypertext Markup Language">Html</abbr>&#x202f;: le préfixe doit débuter par <em>data-</em> et être suivi d’un nom arbitraire sous la forme <em>nom-</em>&#x202f;: <em>data-nom-</em>. Par exemple, si le préfixe est <em>data-my-</em>, cet espace de nom doit être déclaré.</dd>
    <dt data-ym-display="block" data-ym-margin-top="1rem"><mark data-ym-hyphens="none">reset</mark></dt>
    <dd data-ym-display="block">Avec la valeur <em>lymnee</em> sont réinitialisés les styles par défaut des navigateurs des éléments qui reçoivent l’attribut <em>data-ym-</em> ou un espace de nom équivalent. Avec la valeur <em>all</em> sont réinitialisés les styles par défaut des navigateurs de <span data-ym-font-weight="var(--font-weight-bold)">tous</span> les éléments visibles. Par exemple, la balise <code data-ym-hyphens="none">&#x3c;head&#x3e;</code> n’est pas modifiée. Dans les deux cas, en raison de la cascade, la réinitialisation s’affiche avant les autres règles. Si le paramètre est omis ou vaut <em>none</em>, aucune réinitialisation n’est proposée.</dd>
    <dt data-ym-display="block" data-ym-margin-top="1rem"><mark data-ym-hyphens="none">uncompress</mark></dt>
    <dd data-ym-display="block">La valeur <em>false</em> produit un code <abbr title="Cascading Styles Sheets">Css</abbr> compressé, c’est-à-dire sans saut de ligne et espace inutile.</dd>
</dl>
<h3 data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-font-size="calc(var(--x) * 1rem)" data-ym-margin-top="1rem">Limitations</h3>
<h4 data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-font-size="calc(var(--xs) * 1rem)" data-ym-margin-top="1rem">Attributs</h4>
<p data-ym-display="block" data-ym-margin-top="1rem">La création d’<a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a> supplémentaires avec JavaScript ou <abbr title="Cascading Styles Sheets">Css</abbr> nécessite de ne pas utiliser le préfixe <em>data-ym-</em> ou un espace de nom équivalent afin d’éviter leur localisation par <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://www.w3.org/TR/xpath-31/" title="aller sur la page XML Path Language (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">XML Path Language</a>.</p>
<p data-ym-display="block" data-ym-margin-top="1rem">L’usage des entités au format décimal ou hexadécimal est impossible dans un attribut. Par exemple, ne fonctionne pas…</p>
<pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
&#x3c;ul data-my-list-style-type="&#x27;\1F34E&#x27;"&#x3e;
&#x3c;!-- &#x3c;ul data-my-list-style-type="&#x27;\1F34E&#x27;"&#x3e; --&#x3e;</pre>
<p data-ym-display="block" data-ym-margin-top="1rem">… Contrairement à…</p>
<pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
&#x3c;ul data-my-list-style-type="&#x27;🍎&#x27;"&#x3e;</pre>
<p data-ym-display="block" data-ym-margin-top="1rem">Noter que le symbole littéral est encadré par des guillemets simples droits, <code data-ym-hyphens="none">&#x27;</code>.</p>
<h4 data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-font-size="calc(var(--xs) * 1rem)" data-ym-margin-top="1rem">Pseudo-classes</h4>
<p data-ym-display="block" data-ym-margin-top="1rem">Les <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-classes" title="lire la documentation à propos des pseudo-classes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">pseudo-classes</a> ne sont pas prises en charge. Les <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-elements" title="lire la documentation à propos des pseudo-éléments (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">pseudo-éléments</a> sont supportés.</p>
<h4 data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-font-size="calc(var(--xs) * 1rem)" data-ym-margin-top="1rem">Règles @supports</h4>
<p data-ym-display="block" data-ym-margin-top="1rem">Les règles <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Web/CSS/@supports" title="lire l’article @supports (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">@supports</a> ne prennent pas en charge les conditions <em>not</em> et <em>and</em>.</p>
<h3 data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-font-size="calc(var(--x) * 1rem)" data-ym-margin-top="1rem">Interaction avec JavaScript</h3>
<p data-ym-display="block" data-ym-margin-top="1rem">Les méthodes <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Web/API/Element/setAttribute" title="lire l’article Element.setAttribute() (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Element.setAttribute()</a> et <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Web/API/Element/removeAttribute" title="lire l’article Element.removeAttribute() (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">Element.removeAttribute()</a> permettent d’ajouter ou de supprimer un attribut de données…</p>
<pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
document.querySelector('#foo').setAttribute('data-ym-color', 'blue');
document.querySelector('#bar').removeAttribute('data-ym-color');</pre>
<p data-ym-display="block" data-ym-margin-top="1rem">La méthode <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLOrForeignElement/dataset" title="lire l’article HTMLElement.dataset (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">HTMLElement.dataset</a>, qui nécessite de supprimer le tiret et de changer la casse de la première lettre suivante, ne présente pas un intérêt supplémentaire…</p>
<pre data-ym-border-left="calc(var(--ssssssss) * 1rem) solid var(--primary-color)" data-ym-display="block" data-ym-hyphens="none" data-ym-margin-top="1rem" data-ym-padding-left="1rem">
document.querySelector('#foo').dataset.ymColor = 'blue';
document.querySelector('#bar').dataset.ymColor = '';</pre>
<h3 data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-font-size="calc(var(--x) * 1rem)" data-ym-margin-top="1rem">Bogues</h3>
<ul data-ym-display="block" data-ym-list-style-position="inside" data-ym-list-style-type="circle" data-ym-margin-top="1rem">
    <li data-ym-color="var(--primary-color)::marker" data-ym-display="list-item">Le tri est imparfait quand les sélecteurs sont identiques&#x202f;: les valeurs ne sont pas ordonnées.</li>
    <li data-ym-color="var(--primary-color)::marker" data-ym-display="list-item">Les tabulations des <a data-ym-color="var(--primary-color)::after" data-ym-content="' ↗'::after" data-ym-cursor="pointer" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes" title="lire l’article Using data attributes (S’ouvre dans une nouvelle fenêtre)" target="_blank" lang="en">attributs de données</a> les plus complexes sont incorrectes quand le code <abbr title="Cascading Styles Sheets">Css</abbr> n’est pas compressé.</li>
    <li data-ym-color="var(--primary-color)::marker" data-ym-display="list-item">Les règles de style pour imprimer la présente page ne sont pas disponibles.</li>
</ul>
<p data-ym-display="block" data-ym-margin-top="1rem">Document à parfaire mis à jour le 12 septembre 2020.</p>
<div data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-font-size="calc(var(--xx) * 1rem)" data-ym-margin-top="1rem">&#x3c;/details&#x3e;</div>
<script>

/*
    Génération du sommaire
*/

var entries = document.querySelectorAll('h2, h3, h4, h5, h6');

var tocOutput = '\n';

tocOutput += '<div data-ym-color="var(--primary-color)" data-ym-display="block" data-ym-font-size="calc(var(--xx) * 1rem)" data-ym-margin-top="1rem">';

tocOutput += 'Sommaire';

tocOutput += '</div>';

tocOutput += '\n';

tocOutput += '<ul data-ym-margin-top="1rem">';

tocOutput += '\t';

var i = 0;

entries.forEach(function(entry) {

    i++;

    entry.setAttribute('id', 'link-' + i);

    tocOutput += '\t';

    if (entry.tagName === 'H2') {

        tocOutput += '<li data-ym-display="block">';

    }

    if (entry.tagName === 'H3') {

        tocOutput += '<li data-ym-display="block" data-ym-margin-left="1ch || 2ch@media screen and (min-width: 1024px)"">';

    }

    if (entry.tagName === 'H4') {

        tocOutput += '<li data-ym-display="block" data-ym-margin-left="2ch || 4ch@media screen and (min-width: 1024px)"">';

    }

    if (entry.tagName === 'H5') {

        tocOutput += '<li data-ym-display="block" data-ym-margin-left="3ch || 6ch@media screen and (min-width: 1024px)"">';

    }

    if (entry.tagName === 'H6') {

        tocOutput += '<li data-ym-display="block" data-ym-margin-left="4ch || 8ch@media screen and (min-width: 1024px)">';

    }

    tocOutput += '<a data-ym-color="var(--opposite-color)::after" data-ym-content="\' →\'::after" data-ym-cursor="pointer" href=#';

    tocOutput += 'link-' + i;

    tocOutput += '>';

    tocOutput += entry.innerHTML;

    tocOutput += '</a>';

    tocOutput += '</li>';

    tocOutput += '\n';

});

tocOutput += '</ul>';

document.querySelector('#toc').innerHTML = tocOutput;

/*
    Gestion des acronymes.
*/

function displayAcronyms() {

    var titlesAcronyms= [];

    document.querySelectorAll('abbr').forEach(element => {
    
        if (!titlesAcronyms.includes(element.title)) {

           element.setAttribute('data-my-first-acronym', '');

            titlesAcronyms.push(element.title);
    
        } else {

            element.setAttribute('data-my-font-variant', 'small-caps');

        }
    
    });

    if (titlesAcronyms.length) {

        /* https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Erreurs/Deprecated_octal, \20 = \x20 */

        var cssOutput = `
[data-my-font-variant="small-caps"] { 
    font-variant: small-caps
}
[data-my-first-acronym]::before {
    content: attr(title) '\x20(';
}
[data-my-first-acronym]::after { 
    content: ')';
}
        `;

        var style = document.createElement('style');

        style.innerHTML = cssOutput;

        document.head.insertBefore(style, document.querySelector('#current'));

        console.log(cssOutput);

    }

}

/*
    Lymnee
*/

var prefixDataAttributes = 'data-ym-';

var reset = 'all';

var uncompress = true;

function removeDuplicateEntries(arrayNodes) {

  let stringArray = arrayNodes.map(JSON.stringify);

  let uniqueStringArray = new Set(stringArray);

  return Array.from(uniqueStringArray, JSON.parse);

}

/*
    * https://github.com/sindresorhus/html-tags/blob/master/html-tags.json
*/

const htmlTags = [
	'a',
	'abbr',
	'address',
	'area',
	'article',
	'aside',
	'audio',
	'b',
	'base',
	'bdi',
	'bdo',
	'blockquote',
	'body',
	'br',
	'button',
	'canvas',
	'caption',
	'cite',
	'code',
	'col',
	'colgroup',
	'data',
	'datalist',
	'dd',
	'del',
	'details',
	'dfn',
	'dialog',
	'div',
	'dl',
	'dt',
	'em',
	'embed',
	'fieldset',
	'figcaption',
	'figure',
	'footer',
	'form',
	'h1',
	'h2',
	'h3',
	'h4',
	'h5',
	'h6',
	/*'head',*/
	'header',
	'hgroup',
	'hr',
	'html',
	'i',
	'iframe',
	'img',
	'input',
	'ins',
	'kbd',
	'label',
	'legend',
	'li',
	/*'link',*/
	'main',
	'map',
	'mark',
	'math',
	'menu',
	'menuitem',
	/*'meta',*/
	'meter',
	'nav',
	/*'noscript',*/
	'object',
	'ol',
	'optgroup',
	'option',
	'output',
	'p',
	'param',
	'picture',
	'pre',
	'progress',
	'q',
	'rb',
	'rp',
	'rt',
	'rtc',
	'ruby',
	's',
	'samp',
	/*'script',*/
	'section',
	'select',
	'slot',
	'small',
	'source',
	'span',
	'strong',
	/*'style',*/
	'sub',
	'summary',
	'sup',
	'svg',
	'table',
	'tbody',
	'td',
	'template',
	'textarea',
	'tfoot',
	'th',
	'thead',
	'time',
	/*'title',*/
	'tr',
	'track',
	'u',
	'ul',
	'var',
	'video',
	'wbr'
];

var styles = [];

var cssOutput = '';

var nodesYmNames = [];

var nodesYmValues = [];

var nodesYmReset = [];

var nodesYmNamesAndValues = [];

if (reset === 'lymnee') {

    var tags = document.evaluate('//*[starts-with(name(@*), "' +  prefixDataAttributes.slice(0, -1) + '")]', document, null, XPathResult.ANY_TYPE, null);
	
	var thisNode = tags.iterateNext();
	
	while (thisNode) {

        if (!nodesYmReset.includes(thisNode.nodeName.toLowerCase())) {

			nodesYmReset.push(thisNode.nodeName.toLowerCase());

		}

        nodesYmReset.push(thisNode.nodeName.toLowerCase());

		thisNode = tags.iterateNext(); 

	}

}

if (reset === 'all') {

    var tags = document.evaluate('//*', document, null, XPathResult.ANY_TYPE, null);

	var thisNode = tags.iterateNext();
	
	while (thisNode) {

        if (htmlTags.includes(thisNode.nodeName.toLowerCase())) {

			if (!nodesYmReset.includes(thisNode.nodeName.toLowerCase())) {

				nodesYmReset.push(thisNode.nodeName.toLowerCase());

			}

		}

		thisNode = tags.iterateNext(); 

	}

}

var nodesYm = document.evaluate('//@*[starts-with(name(), "' +  prefixDataAttributes.slice(0, -1) + '")]', document, null, XPathResult.ANY_TYPE, null);

var thisNode = nodesYm.iterateNext();
	
while (thisNode) {

    nodesYmNames.push(thisNode.nodeName);

    nodesYmValues.push(thisNode.nodeValue);

	thisNode = nodesYm.iterateNext(); 

}

nodesYmNamesAndValues = nodesYmNames.map((el, i) => {

	return [nodesYmNames[i], nodesYmValues[i]];

});

nodesYmReset.sort();

nodesYmNamesAndValues = removeDuplicateEntries(nodesYmNamesAndValues);

nodesYmNamesAndValues.sort((a, b) => a[1].localeCompare(b[1]));

nodesYmNamesAndValues.sort(function (a,b) {

    if (a[0] > b[0]) return  1;

    if (a[0] < b[0]) return -1;

    if (a[2] > b[2]) return  1;

    if (a[2] < b[2]) return -1;

    return 0;

});

var styles = [];

nodesYmNamesAndValues.forEach(function (nodeYmNameAndValue) {

    var rules = nodeYmNameAndValue[1].split(' || ');

    rules.forEach(function (rule) {

        let style = [];

        style.contextualSelector = null;
        
        style.media = null;

        style.pseudoElement = null;
    
        style.support = null;

        let ruleSupport = rule.split(' !! ');
    
        if (ruleSupport[1]) {
        
            style.support = ruleSupport[1].trim();
            
        }

        let ruleContextualSelector = ruleSupport[0].split(' && ');
    
        if (ruleContextualSelector[1]) {
        
            style.contextualSelector = ruleContextualSelector[1].trim();
            
        }

        ruleMedia = ruleContextualSelector[0].split('@');

        if (ruleMedia[1]) {
        
            style.media = ruleMedia[1].trim();
            
        }

        rulePseudoElement = ruleMedia[0].split('::');

        if (rulePseudoElement[1]) {
        
            style.pseudoElement = rulePseudoElement[1].trim();
        
        }

        style.value = rulePseudoElement[0].trim();

		style.selector = nodeYmNameAndValue[0] + '=' + '"' + nodeYmNameAndValue[1] + '"';

		style.property = nodeYmNameAndValue[0];

		styles.push(style);


    });

});

if (nodesYmReset.length) {

    nodesYmReset.forEach(function (nodeYmReset, index) {

        cssOutput += nodeYmReset;

        if (index !== nodesYmReset.length - 1) {

            cssOutput += ',';

            if (uncompress) {

                cssOutput += '\n';

            }

        } else {

            /* Last element */

            if (uncompress) {

                cssOutput += ' ';

            }
        }

    });

    cssOutput += '{';

    if (uncompress) {

        cssOutput += '\n';

        cssOutput += '\t';

        cssOutput += 'all: unset';

        cssOutput += '\n';

    } else {

        cssOutput += 'all:unset';
    }
    
    cssOutput += '}';
    
    if (uncompress) {

        cssOutput += '\n';

    }

}

var tabs = 0;

styles.forEach(function (style) {

    if (style.support !== null) {

        cssOutput += '@';

        cssOutput += 'supports';
        
        if (uncompress) {

            cssOutput += ' ';

        }

        cssOutput += '(';

        cssOutput += style.support;

        cssOutput += ')';

        if (uncompress) {

            cssOutput += ' ';
    
        }

        cssOutput += '{';

        if (uncompress) {

            cssOutput += '\n';

            cssOutput += '\t'.repeat(++tabs);

        }

    }

    if (style.media !== null) {

        cssOutput += '@';

        cssOutput += style.media;

        if (uncompress) {

            cssOutput += ' ';
    
        }

        cssOutput += '{';

        if (uncompress) {

            cssOutput += '\n';

            cssOutput += '\t'.repeat(++tabs);
    
        }

    }

    if (style.contextualSelector !== null) {

        cssOutput += '.';

        cssOutput += style.contextualSelector;

        cssOutput += ' ';

        cssOutput += '[';

        cssOutput += style.selector;

        cssOutput += ']';

    } else {

        cssOutput += '[';

        cssOutput += style.selector;

        cssOutput += ']';

    }

    if (style.pseudoElement !== null) {

        cssOutput += '::';

        cssOutput += style.pseudoElement;

    }

    if (uncompress) {

        cssOutput += ' ';

    }

    cssOutput += '{';

    if (uncompress) {

        cssOutput += '\n';

        cssOutput += '\t'.repeat(++tabs);

    }

    cssOutput += style.property.replace(prefixDataAttributes, '');

    cssOutput += ':';

    if (uncompress) {

        cssOutput += ' ';

    }

    cssOutput += style.value;

    if (uncompress) {

        cssOutput += '\n';

        cssOutput += '\t'.repeat(--tabs);

    }

    cssOutput += '}';

    if (uncompress) {

        cssOutput += '\n';

    }

    if (style.media !== null) {

        if (uncompress) {

            cssOutput += '\t'.repeat(--tabs);

        }

        cssOutput += '}';

        if (uncompress) {
    
            cssOutput += '\n';
    
        }

    }

    if (style.support !== null) {

        cssOutput += '}';

        if (uncompress) {
    
            cssOutput += '\n';
    
        }

    }

});

console.log('In the beginning God created the heaven and the earth. Genesis 1:1')

console.log('Au commencement, Dieu créa les cieux et la terre. Genèse 1:1');

console.log(' ');

console.log(cssOutput);

var style = document.createElement('style');

style.innerHTML = cssOutput;

document.head.insertBefore(style, document.querySelector('#current'));

displayAcronyms();
</script>
</body>
</html>
